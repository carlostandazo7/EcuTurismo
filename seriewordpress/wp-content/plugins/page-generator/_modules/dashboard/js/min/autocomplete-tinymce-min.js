!function(){const e=undefined,t=undefined,n=27,i=13,o=8;var c=[40,38,n,i],l=["123"];"undefined"!=typeof wpzinc_autocomplete&&wpzinc_autocomplete.forEach((function(e,t){e.triggers.forEach((function(e,t){"url"in e||(tinymce.create("tinymce.plugins."+e.tinyMCEName,{init:function(t){function o(){var t=document.createElement("ul");return t.setAttribute("class","wpzinc-tinymce-autocomplete"),e.values.forEach((function(e,n){var i=document.createElement("li");i.classList.add("displayed"),t.appendChild(i),i.innerHTML=i.innerHTML+e.value})),document.body.appendChild(t),t}function s(e,t){var n=a(e);r(t,n.top,n.left),t.classList.remove("displayed"),t.classList.add("displayed"),h=!0}function a(e){var t=e.getContainer()?e.getContainer():document.getElementById(e.id),n=t.getBoundingClientRect().top+window.scrollY,i=t.getBoundingClientRect().left+window.scrollX,o={top:0,left:0};o=e.selection.getRng().getClientRects().length>0?{top:e.selection.getRng().getClientRects()[0].top+20,left:e.selection.getRng().getClientRects()[0].left}:{top:e.selection.getNode().getClientRects()[0].top+20,left:e.selection.getNode().getClientRects()[0].left};var c=t.getElementsByClassName("mce-toolbar-grp")[0];return c?{top:n+c.getBoundingClientRect().height+o.top,left:i+o.left}:o}function r(e,t,n){e.style.marginTop=t+"px",e.style.marginLeft=n+"px"}function d(e){var t=null==e.selection.getSel().focusNode?"":e.selection.getSel().focusNode.nodeValue,n=e.selection.getSel().focusOffset,i=0,o;if(null==t||0==t.length)return"";for(var c=n;c>=0;c--)if(-1!=l.indexOf(t.charCodeAt(c).toString())){i=c;break}return{search:t.substr(i,n-i),start:i,end:n}}function u(e,t,n){for(var i=n.getElementsByTagName("li"),o=0;o<i.length-1;o++)-1==i.item(o).innerText.indexOf(e.search)?i.item(o).classList.remove("displayed"):i.item(o).classList.add("displayed")}function g(e,t,n){var i;f(n.getElementsByTagName("li").item(e).innerText,t,n)}function f(e,t){var n=d(t),i=t.selection.getSel().focusNode,o=t.selection.getRng();o.setStart(i,n.start),o.setEnd(i,n.end),t.selection.setRng(o),t.selection.setContent(e)}function m(e,t){t.classList.remove("displayed"),h=!1}function p(t,o){if(e.triggerKeyCode!=o.keyCode||h){if(n!=o.keyCode||!h)return h&&i==o.keyCode?(tinymce.dom.Event.cancel(o),g(0,t,w),void m(t,w)):void 0;m(t,w)}else s(t,w)}function y(e,t){var n;-1==c.indexOf(t.keyCode)&&h&&(s(e,w),u(d(e),e,w))}function C(e,t){m(e,w)}function v(e){e.target.matches("li.displayed")?(f(e.target.innerText,t),m(t,w)):m(t,w)}var h=!1,w=o();t.onKeyDown.add(y),t.onKeyDown.add(p),t.onClick.add(C),document.addEventListener("click",v)},getInfo:function(){return{longname:"Autocomplete",author:"WP Zinc",authorurl:"https://www.wpzinc.com/",infourl:"https://www.wpzinc.com/",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add(e.tinyMCEName,tinymce.plugins[e.tinyMCEName]))}))}))}();